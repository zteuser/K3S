apiVersion: v1
kind: ConfigMap
metadata:
  name: snmp-exporter-config
  namespace: monitoring
  labels:
    app: snmp-exporter
data:
  snmp.yml: |
    # snmp-exporter v0.25+ config (auth-split)
    # IMPORTANT:
    # - Do NOT set auth/version/lookups inside modules in this format
    # - Prometheus must pass ?auth=public_v2 (or rely on the default)

    auths:
      public_v2:
        version: 2
        community: dfktyrb1

    modules:
      unifi_ucg:
        walk:
          - 1.3.6.1.2.1.1
          - 1.3.6.1.2.1.2
          - 1.3.6.1.2.1.4
          - 1.3.6.1.2.1.5
          - 1.3.6.1.2.1.6
          - 1.3.6.1.2.1.7
          - 1.3.6.1.2.1.31.1.1
        max_repetitions: 25
        retries: 3
        timeout: 30s

      edgerouter_x:
        walk:
          - 1.3.6.1.2.1.1
          - 1.3.6.1.2.1.2
          - 1.3.6.1.2.1.4
          - 1.3.6.1.2.1.5
          - 1.3.6.1.2.1.6
          - 1.3.6.1.2.1.7
          - 1.3.6.1.2.1.31.1.1
        max_repetitions: 25
        retries: 3
        timeout: 30s

      router:
        walk:
          - 1.3.6.1.2.1.1
          - 1.3.6.1.2.1.2
          - 1.3.6.1.2.1.4
          - 1.3.6.1.2.1.5
          - 1.3.6.1.2.1.6
          - 1.3.6.1.2.1.7
        max_repetitions: 25
        retries: 3
        timeout: 30s
