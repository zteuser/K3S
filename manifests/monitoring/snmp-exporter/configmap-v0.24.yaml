apiVersion: v1
kind: ConfigMap
metadata:
  name: snmp-exporter-config
  namespace: monitoring
  labels:
    app: snmp-exporter
data:
  snmp.yml: |
    # Конфігурація для snmp-exporter v0.24.0 (старий формат)
    modules:
      unifi_ucg:
        walk:
          - 1.3.6.1.2.1.1
          - 1.3.6.1.2.1.2
          - 1.3.6.1.2.1.4
          - 1.3.6.1.2.1.5
          - 1.3.6.1.2.1.6
          - 1.3.6.1.2.1.7
          - 1.3.6.1.2.1.31.1.1
        lookups:
          - source_indexes: [ifIndex]
            lookup: 1.3.6.1.2.1.2.2.1.2
            drop_source_indexes: false
        version: 2
        auth:
          community: dfktyrb1
        max_repetitions: 25
        retries: 3
        timeout: 10s
      
      edgerouter_x:
        walk:
          - 1.3.6.1.2.1.1
          - 1.3.6.1.2.1.2
          - 1.3.6.1.2.1.4
          - 1.3.6.1.2.1.5
          - 1.3.6.1.2.1.6
          - 1.3.6.1.2.1.7
          - 1.3.6.1.2.1.31.1.1
        lookups:
          - source_indexes: [ifIndex]
            lookup: 1.3.6.1.2.1.2.2.1.2
            drop_source_indexes: false
        version: 2
        auth:
          community: dfktyrb1
        max_repetitions: 25
        retries: 3
        timeout: 10s
      
      router:
        walk:
          - 1.3.6.1.2.1.1
          - 1.3.6.1.2.1.2
          - 1.3.6.1.2.1.4
          - 1.3.6.1.2.1.5
          - 1.3.6.1.2.1.6
          - 1.3.6.1.2.1.7
        lookups:
          - source_indexes: [ifIndex]
            lookup: 1.3.6.1.2.1.2.2.1.2
            drop_source_indexes: false
        version: 2
        auth:
          community: dfktyrb1
        max_repetitions: 25
        retries: 3
        timeout: 10s
