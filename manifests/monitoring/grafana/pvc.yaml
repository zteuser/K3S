apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: grafana-data
  namespace: monitoring
  labels:
    app: grafana
spec:
  # ВАРІАНТ 1: Використати pv-sharedata1 (статус Released - потрібно зробити Available)
  # Спочатку зробіть PV Available:
  # kubectl patch pv pv-sharedata1 -p '{"spec":{"claimRef":null}}'
  # Потім розкоментуйте volumeName:
  # volumeName: pv-sharedata1
  
  # ВАРІАНТ 2: Використати новий PV pv-grafana-data
  # Спочатку створіть PV: kubectl apply -f grafana/persistentvolume.yaml
  # Потім розкоментуйте volumeName:
  # volumeName: pv-grafana-data
  
  # ВАРІАНТ 3: Створити новий PVC без volumeName (якщо storage class підтримує)
  # За замовчуванням - створюємо новий PVC на тому ж storage class
  accessModes:
    - ReadWriteMany  # OCFS2 підтримує ReadWriteMany (RWX) - має співпадати з PV
  resources:
    requests:
      storage: 10Gi  # Розмір для Grafana
  storageClassName: ocfs2-shared  # Використовуємо той самий storage class що і існуючі volumes